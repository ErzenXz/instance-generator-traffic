

let data = [

    {

        lat: "42.655496",
        lon: "21.159729",
        name: "Udhëkryqi tek Bill Clinton A",
        group: "Bill Clinton",
        color: "red",
        times: [
            {
                "time": "06:00",
                "cars": 23
            },
            {
                "time": "06:15",
                "cars": 59
            },
            {
                "time": "06:30",
                "cars": 47
            },
            {
                "time": "06:45",
                "cars": 90
            },
            {
                "time": "07:00",
                "cars": 119
            },
            {
                "time": "07:15",
                "cars": 178
            },
            {
                "time": "07:30",
                "cars": 260
            },
            {
                "time": "07:45",
                "cars": 294
            },
            {
                "time": "08:00",
                "cars": 247
            },
            {
                "time": "08:15",
                "cars": 267
            },
            {
                "time": "08:30",
                "cars": 267
            },
            {
                "time": "08:45",
                "cars": 221
            },
            {
                "time": "09:00",
                "cars": 284
            },
            {
                "time": "09:15",
                "cars": 237
            },
            {
                "time": "09:30",
                "cars": 253
            },
            {
                "time": "09:45",
                "cars": 176
            },
            {
                "time": "10:00",
                "cars": 227
            },
            {
                "time": "10:15",
                "cars": 258
            },
            {
                "time": "10:30",
                "cars": 212
            },
            {
                "time": "10:45",
                "cars": 255
            },
            {
                "time": "11:00",
                "cars": 232
            },
            {
                "time": "11:15",
                "cars": 219
            },
            {
                "time": "11:30",
                "cars": 241
            },
            {
                "time": "11:45",
                "cars": 238
            },
            {
                "time": "12:00",
                "cars": 215
            },
            {
                "time": "12:15",
                "cars": 154
            },
            {
                "time": "12:30",
                "cars": 207
            },
            {
                "time": "12:45",
                "cars": 231
            },
            {
                "time": "13:00",
                "cars": 220
            },
            {
                "time": "13:15",
                "cars": 237
            },
            {
                "time": "13:30",
                "cars": 190
            },
            {
                "time": "13:45",
                "cars": 233
            },
            {
                "time": "14:00",
                "cars": 276
            },
            {
                "time": "14:15",
                "cars": 246
            },
            {
                "time": "14:30",
                "cars": 242
            },
            {
                "time": "14:45",
                "cars": 211
            },
            {
                "time": "15:00",
                "cars": 255
            },
            {
                "time": "15:15",
                "cars": 231
            },
            {
                "time": "15:30",
                "cars": 159
            },
            {
                "time": "15:45",
                "cars": 223
            },
            {
                "time": "16:00",
                "cars": 238
            },
            {
                "time": "16:15",
                "cars": 225
            },
            {
                "time": "16:30",
                "cars": 204
            },
            {
                "time": "16:45",
                "cars": 178
            },
            {
                "time": "17:00",
                "cars": 234
            },
            {
                "time": "17:15",
                "cars": 133
            },
            {
                "time": "17:30",
                "cars": 200
            },
            {
                "time": "17:45",
                "cars": 224
            }
        ]
    },
    {

        lat: "42.655630",
        lon: "21.159851",
        name: "Udhëkryqi tek Bill Clinton B",
        group: "Bill Clinton",
        color: "blue",
        times: [
            {
                "time": "06:00",
                "cars": 20
            },
            {
                "time": "06:15",
                "cars": 52
            },
            {
                "time": "06:30",
                "cars": 83
            },
            {
                "time": "06:45",
                "cars": 114
            },
            {
                "time": "07:00",
                "cars": 174
            },
            {
                "time": "07:15",
                "cars": 239
            },
            {
                "time": "07:30",
                "cars": 276
            },
            {
                "time": "07:45",
                "cars": 294
            },
            {
                "time": "08:00",
                "cars": 240
            },
            {
                "time": "08:15",
                "cars": 251
            },
            {
                "time": "08:30",
                "cars": 287
            },
            {
                "time": "08:45",
                "cars": 234
            },
            {
                "time": "09:00",
                "cars": 297
            },
            {
                "time": "09:15",
                "cars": 267
            },
            {
                "time": "09:30",
                "cars": 309
            },
            {
                "time": "09:45",
                "cars": 240
            },
            {
                "time": "10:00",
                "cars": 352
            },
            {
                "time": "10:15",
                "cars": 289
            },
            {
                "time": "10:30",
                "cars": 250
            },
            {
                "time": "10:45",
                "cars": 276
            },
            {
                "time": "11:00",
                "cars": 287
            },
            {
                "time": "11:15",
                "cars": 257
            },
            {
                "time": "11:30",
                "cars": 324
            },
            {
                "time": "11:45",
                "cars": 272
            },
            {
                "time": "12:00",
                "cars": 327
            },
            {
                "time": "12:15",
                "cars": 268
            },
            {
                "time": "12:30",
                "cars": 288
            },
            {
                "time": "12:45",
                "cars": 276
            },
            {
                "time": "13:00",
                "cars": 283
            },
            {
                "time": "13:15",
                "cars": 319
            },
            {
                "time": "13:30",
                "cars": 270
            },
            {
                "time": "13:45",
                "cars": 249
            },
            {
                "time": "14:00",
                "cars": 307
            },
            {
                "time": "14:15",
                "cars": 319
            },
            {
                "time": "14:30",
                "cars": 323
            },
            {
                "time": "14:45",
                "cars": 369
            },
            {
                "time": "15:00",
                "cars": 319
            },
            {
                "time": "15:15",
                "cars": 381
            },
            {
                "time": "15:30",
                "cars": 349
            },
            {
                "time": "15:45",
                "cars": 259
            },
            {
                "time": "16:00",
                "cars": 363
            },
            {
                "time": "16:15",
                "cars": 383
            },
            {
                "time": "16:30",
                "cars": 329
            },
            {
                "time": "16:45",
                "cars": 332
            },
            {
                "time": "17:00",
                "cars": 359
            },
            {
                "time": "17:15",
                "cars": 330
            },
            {
                "time": "17:30",
                "cars": 361
            },
            {
                "time": "17:45",
                "cars": 307
            }
        ]
    },
    {

        lat: "42.655663",
        lon: "21.159577",
        name: "Udhëkryqi tek Bill Clinton C",
        group: "Bill Clinton",
        color: "yellow",
        times: [
            {
                "time": "06:00",
                "cars": 17
            },
            {
                "time": "06:15",
                "cars": 22
            },
            {
                "time": "06:30",
                "cars": 59
            },
            {
                "time": "06:45",
                "cars": 103
            },
            {
                "time": "07:00",
                "cars": 118
            },
            {
                "time": "07:15",
                "cars": 151
            },
            {
                "time": "07:30",
                "cars": 165
            },
            {
                "time": "07:45",
                "cars": 227
            },
            {
                "time": "08:00",
                "cars": 260
            },
            {
                "time": "08:15",
                "cars": 209
            },
            {
                "time": "08:30",
                "cars": 189
            },
            {
                "time": "08:45",
                "cars": 166
            },
            {
                "time": "09:00",
                "cars": 203
            },
            {
                "time": "09:15",
                "cars": 190
            },
            {
                "time": "09:30",
                "cars": 213
            },
            {
                "time": "09:45",
                "cars": 170
            },
            {
                "time": "10:00",
                "cars": 198
            },
            {
                "time": "10:15",
                "cars": 154
            },
            {
                "time": "10:30",
                "cars": 151
            },
            {
                "time": "10:45",
                "cars": 133
            },
            {
                "time": "11:00",
                "cars": 170
            },
            {
                "time": "11:15",
                "cars": 171
            },
            {
                "time": "11:30",
                "cars": 196
            },
            {
                "time": "11:45",
                "cars": 171
            },
            {
                "time": "12:00",
                "cars": 216
            },
            {
                "time": "12:15",
                "cars": 203
            },
            {
                "time": "12:30",
                "cars": 211
            },
            {
                "time": "12:45",
                "cars": 194
            },
            {
                "time": "13:00",
                "cars": 213
            },
            {
                "time": "13:15",
                "cars": 210
            },
            {
                "time": "13:30",
                "cars": 242
            },
            {
                "time": "13:45",
                "cars": 215
            },
            {
                "time": "14:00",
                "cars": 232
            },
            {
                "time": "14:15",
                "cars": 235
            },
            {
                "time": "14:30",
                "cars": 248
            },
            {
                "time": "14:45",
                "cars": 223
            },
            {
                "time": "15:00",
                "cars": 263
            },
            {
                "time": "15:15",
                "cars": 240
            },
            {
                "time": "15:30",
                "cars": 245
            },
            {
                "time": "15:45",
                "cars": 254
            },
            {
                "time": "16:00",
                "cars": 252
            },
            {
                "time": "16:15",
                "cars": 292
            },
            {
                "time": "16:30",
                "cars": 239
            },
            {
                "time": "16:45",
                "cars": 244
            },
            {
                "time": "17:00",
                "cars": 249
            },
            {
                "time": "17:15",
                "cars": 269
            },
            {
                "time": "17:30",
                "cars": 237
            },
            {
                "time": "17:45",
                "cars": 252
            }
        ]
    },
    {

        lat: "42.655528",
        lon: "21.159510",
        name: "Udhëkryqi tek Bill Clinton D",
        group: "Bill Clinton",
        color: "green",
        times: [
            {
                "time": "06:00",
                "cars": 43
            },
            {
                "time": "06:15",
                "cars": 58
            },
            {
                "time": "06:30",
                "cars": 107
            },
            {
                "time": "06:45",
                "cars": 144
            },
            {
                "time": "07:00",
                "cars": 184
            },
            {
                "time": "07:15",
                "cars": 225
            },
            {
                "time": "07:30",
                "cars": 364
            },
            {
                "time": "07:45",
                "cars": 303
            },
            {
                "time": "08:00",
                "cars": 277
            },
            {
                "time": "08:15",
                "cars": 339
            },
            {
                "time": "08:30",
                "cars": 365
            },
            {
                "time": "08:45",
                "cars": 294
            },
            {
                "time": "09:00",
                "cars": 339
            },
            {
                "time": "09:15",
                "cars": 266
            },
            {
                "time": "09:30",
                "cars": 276
            },
            {
                "time": "09:45",
                "cars": 262
            },
            {
                "time": "10:00",
                "cars": 295
            },
            {
                "time": "10:15",
                "cars": 243
            },
            {
                "time": "10:30",
                "cars": 225
            },
            {
                "time": "10:45",
                "cars": 266
            },
            {
                "time": "11:00",
                "cars": 217
            },
            {
                "time": "11:15",
                "cars": 276
            },
            {
                "time": "11:30",
                "cars": 225
            },
            {
                "time": "11:45",
                "cars": 214
            },
            {
                "time": "12:00",
                "cars": 317
            },
            {
                "time": "12:15",
                "cars": 281
            },
            {
                "time": "12:30",
                "cars": 283
            },
            {
                "time": "12:45",
                "cars": 282
            },
            {
                "time": "13:00",
                "cars": 298
            },
            {
                "time": "13:15",
                "cars": 308
            },
            {
                "time": "13:30",
                "cars": 282
            },
            {
                "time": "13:45",
                "cars": 296
            },
            {
                "time": "14:00",
                "cars": 283
            },
            {
                "time": "14:15",
                "cars": 301
            },
            {
                "time": "14:30",
                "cars": 291
            },
            {
                "time": "14:45",
                "cars": 323
            },
            {
                "time": "15:00",
                "cars": 292
            },
            {
                "time": "15:15",
                "cars": 312
            },
            {
                "time": "15:30",
                "cars": 302
            },
            {
                "time": "15:45",
                "cars": 306
            },
            {
                "time": "16:00",
                "cars": 301
            },
            {
                "time": "16:15",
                "cars": 295
            },
            {
                "time": "16:30",
                "cars": 316
            },
            {
                "time": "16:45",
                "cars": 277
            },
            {
                "time": "17:00",
                "cars": 311
            },
            {
                "time": "17:15",
                "cars": 300
            },
            {
                "time": "17:30",
                "cars": 298
            },
            {
                "time": "17:45",
                "cars": 260
            }
        ]
    },

    {

        lat: "42.650469",
        lon: "21.164863",
        name: "Udhëkryqi tek Fakulteti Teknik A",
        group: "Fakulteti Teknik",
        color: "red",
        times: [
            {
                "time": "06:00",
                "cars": 15
            },
            {
                "time": "06:15",
                "cars": 11
            },
            {
                "time": "06:30",
                "cars": 40
            },
            {
                "time": "06:45",
                "cars": 59
            },
            {
                "time": "07:00",
                "cars": 71
            },
            {
                "time": "07:15",
                "cars": 117
            },
            {
                "time": "07:30",
                "cars": 143
            },
            {
                "time": "07:45",
                "cars": 246
            },
            {
                "time": "08:00",
                "cars": 207
            },
            {
                "time": "08:15",
                "cars": 132
            },
            {
                "time": "08:30",
                "cars": 98
            },
            {
                "time": "08:45",
                "cars": 178
            },
            {
                "time": "09:00",
                "cars": 106
            },
            {
                "time": "09:15",
                "cars": 88
            },
            {
                "time": "09:30",
                "cars": 88
            },
            {
                "time": "09:45",
                "cars": 89
            },
            {
                "time": "10:00",
                "cars": 100
            },
            {
                "time": "10:15",
                "cars": 109
            },
            {
                "time": "10:30",
                "cars": 129
            },
            {
                "time": "10:45",
                "cars": 102
            },
            {
                "time": "11:00",
                "cars": 99
            },
            {
                "time": "11:15",
                "cars": 97
            },
            {
                "time": "11:30",
                "cars": 112
            },
            {
                "time": "11:45",
                "cars": 87
            },
            {
                "time": "12:00",
                "cars": 92
            },
            {
                "time": "12:15",
                "cars": 78
            },
            {
                "time": "12:30",
                "cars": 104
            },
            {
                "time": "12:45",
                "cars": 106
            },
            {
                "time": "13:00",
                "cars": 113
            },
            {
                "time": "13:15",
                "cars": 108
            },
            {
                "time": "13:30",
                "cars": 104
            },
            {
                "time": "13:45",
                "cars": 89
            },
            {
                "time": "14:00",
                "cars": 100
            },
            {
                "time": "14:15",
                "cars": 95
            },
            {
                "time": "14:30",
                "cars": 126
            },
            {
                "time": "14:45",
                "cars": 119
            },
            {
                "time": "15:00",
                "cars": 93
            },
            {
                "time": "15:15",
                "cars": 99
            },
            {
                "time": "15:30",
                "cars": 113
            },
            {
                "time": "15:45",
                "cars": 116
            },
            {
                "time": "16:00",
                "cars": 125
            },
            {
                "time": "16:15",
                "cars": 163
            },
            {
                "time": "16:30",
                "cars": 117
            },
            {
                "time": "16:45",
                "cars": 124
            },
            {
                "time": "17:00",
                "cars": 135
            },
            {
                "time": "17:15",
                "cars": 108
            },
            {
                "time": "17:30",
                "cars": 103
            },
            {
                "time": "17:45",
                "cars": 123
            }
        ]
    },
    {

        lat: "42.650230",
        lon: "21.165029",
        name: "Udhëkryqi tek Fakulteti Teknik B",
        group: "Fakulteti Teknik",
        color: "blue",
        times: [{ "time": "06:00", "cars": 3 }, { "time": "06:15", "cars": 8 }, { "time": "06:30", "cars": 17 }, { "time": "06:45", "cars": 35 }, { "time": "07:00", "cars": 46 }, { "time": "07:15", "cars": 121 }, { "time": "07:30", "cars": 181 }, { "time": "07:45", "cars": 251 }, { "time": "08:00", "cars": 173 }, { "time": "08:15", "cars": 129 }, { "time": "08:30", "cars": 122 }, { "time": "08:45", "cars": 117 }, { "time": "09:00", "cars": 79 }, { "time": "09:15", "cars": 65 }, { "time": "09:30", "cars": 74 }, { "time": "09:45", "cars": 72 }, { "time": "10:00", "cars": 67 }, { "time": "10:15", "cars": 53 }, { "time": "10:30", "cars": 73 }, { "time": "10:45", "cars": 76 }, { "time": "11:00", "cars": 59 }, { "time": "11:15", "cars": 77 }, { "time": "11:30", "cars": 69 }, { "time": "11:45", "cars": 80 }, { "time": "12:00", "cars": 73 }, { "time": "12:15", "cars": 70 }, { "time": "12:30", "cars": 76 }, { "time": "12:45", "cars": 95 }, { "time": "13:00", "cars": 99 }, { "time": "13:15", "cars": 69 }, { "time": "13:30", "cars": 76 }, { "time": "13:45", "cars": 67 }, { "time": "14:00", "cars": 58 }, { "time": "14:15", "cars": 69 }, { "time": "14:30", "cars": 87 }, { "time": "14:45", "cars": 86 }, { "time": "15:00", "cars": 87 }, { "time": "15:15", "cars": 85 }, { "time": "15:30", "cars": 117 }, { "time": "15:45", "cars": 93 }, { "time": "16:00", "cars": 135 }, { "time": "16:15", "cars": 92 }, { "time": "16:30", "cars": 97 }, { "time": "16:45", "cars": 102 }, { "time": "17:00", "cars": 119 }, { "time": "17:15", "cars": 97 }, { "time": "17:30", "cars": 85 }, { "time": "17:45", "cars": 99 }]
    },
    {

        lat: "42.650052",
        lon: "21.164772",
        name: "Udhëkryqi tek Fakulteti Teknik C",
        group: "Fakulteti Teknik",
        color: "yellow",
        times: [{ "time": "06:00", "cars": 31 }, { "time": "06:15", "cars": 41 }, { "time": "06:30", "cars": 66 }, { "time": "06:45", "cars": 132 }, { "time": "07:00", "cars": 166 }, { "time": "07:15", "cars": 195 }, { "time": "07:30", "cars": 225 }, { "time": "07:45", "cars": 216 }, { "time": "08:00", "cars": 212 }, { "time": "08:15", "cars": 257 }, { "time": "08:30", "cars": 244 }, { "time": "08:45", "cars": 282 }, { "time": "09:00", "cars": 268 }, { "time": "09:15", "cars": 268 }, { "time": "09:30", "cars": 412 }, { "time": "09:45", "cars": 337 }, { "time": "10:00", "cars": 276 }, { "time": "10:15", "cars": 271 }, { "time": "10:30", "cars": 300 }, { "time": "10:45", "cars": 280 }, { "time": "11:00", "cars": 258 }, { "time": "11:15", "cars": 295 }, { "time": "11:30", "cars": 277 }, { "time": "11:45", "cars": 252 }, { "time": "12:00", "cars": 315 }, { "time": "12:15", "cars": 427 }, { "time": "12:30", "cars": 461 }, { "time": "12:45", "cars": 492 }, { "time": "13:00", "cars": 402 }, { "time": "13:15", "cars": 374 }, { "time": "13:30", "cars": 466 }, { "time": "13:45", "cars": 401 }, { "time": "14:00", "cars": 355 }, { "time": "14:15", "cars": 471 }, { "time": "14:30", "cars": 396 }, { "time": "14:45", "cars": 392 }, { "time": "15:00", "cars": 432 }, { "time": "15:15", "cars": 306 }, { "time": "15:30", "cars": 427 }, { "time": "15:45", "cars": 338 }, { "time": "16:00", "cars": 387 }, { "time": "16:15", "cars": 338 }, { "time": "16:30", "cars": 282 }, { "time": "16:45", "cars": 321 }, { "time": "17:00", "cars": 353 }, { "time": "17:15", "cars": 262 }, { "time": "17:30", "cars": 325 }, { "time": "17:45", "cars": 283 }]
    },
    {

        lat: "42.650357",
        lon: "21.164620",
        name: "Udhëkryqi tek Fakulteti Teknik D",
        group: "Fakulteti Teknik",
        color: "green",
        times: [{ "time": "06:00", "cars": 40 }, { "time": "06:15", "cars": 55 }, { "time": "06:30", "cars": 92 }, { "time": "06:45", "cars": 115 }, { "time": "07:00", "cars": 131 }, { "time": "07:15", "cars": 225 }, { "time": "07:30", "cars": 203 }, { "time": "07:45", "cars": 214 }, { "time": "08:00", "cars": 227 }, { "time": "08:15", "cars": 226 }, { "time": "08:30", "cars": 231 }, { "time": "08:45", "cars": 198 }, { "time": "09:00", "cars": 191 }, { "time": "09:15", "cars": 196 }, { "time": "09:30", "cars": 179 }, { "time": "09:45", "cars": 164 }, { "time": "10:00", "cars": 224 }, { "time": "10:15", "cars": 212 }, { "time": "10:30", "cars": 180 }, { "time": "10:45", "cars": 194 }, { "time": "11:00", "cars": 202 }, { "time": "11:15", "cars": 241 }, { "time": "11:30", "cars": 146 }, { "time": "11:45", "cars": 186 }, { "time": "12:00", "cars": 199 }, { "time": "12:15", "cars": 204 }, { "time": "12:30", "cars": 217 }, { "time": "12:45", "cars": 261 }, { "time": "13:00", "cars": 210 }, { "time": "13:15", "cars": 239 }, { "time": "13:30", "cars": 238 }, { "time": "13:45", "cars": 213 }, { "time": "14:00", "cars": 272 }, { "time": "14:15", "cars": 243 }, { "time": "14:30", "cars": 231 }, { "time": "14:45", "cars": 212 }, { "time": "15:00", "cars": 256 }, { "time": "15:15", "cars": 219 }, { "time": "15:30", "cars": 240 }, { "time": "15:45", "cars": 203 }, { "time": "16:00", "cars": 285 }, { "time": "16:15", "cars": 304 }, { "time": "16:30", "cars": 273 }, { "time": "16:45", "cars": 341 }, { "time": "17:00", "cars": 322 }, { "time": "17:15", "cars": 298 }, { "time": "17:30", "cars": 242 }, { "time": "17:45", "cars": 226 }]
    },


    {   // Te furra qerimi
        lat: "42.654241",
        lon: "21.167495",
        name: "Udhëkryqi tek Furra Qerimi A",
        group: "Furra Qerimi",
        color: "green",
        times: [{ "time": "06:00", "cars": 58 }, { "time": "06:15", "cars": 44 }, { "time": "06:30", "cars": 60 }, { "time": "06:45", "cars": 77 }, { "time": "07:00", "cars": 98 }, { "time": "07:15", "cars": 104 }, { "time": "07:30", "cars": 113 }, { "time": "07:45", "cars": 122 }, { "time": "08:00", "cars": 159 }, { "time": "08:15", "cars": 132 }, { "time": "08:30", "cars": 132 }, { "time": "08:45", "cars": 116 }, { "time": "09:00", "cars": 112 }, { "time": "09:15", "cars": 108 }, { "time": "09:30", "cars": 115 }, { "time": "09:45", "cars": 112 }, { "time": "10:00", "cars": 144 }, { "time": "10:15", "cars": 125 }, { "time": "10:30", "cars": 113 }, { "time": "10:45", "cars": 162 }, { "time": "11:00", "cars": 176 }, { "time": "11:15", "cars": 136 }, { "time": "11:30", "cars": 131 }, { "time": "11:45", "cars": 122 }, { "time": "12:00", "cars": 156 }, { "time": "12:15", "cars": 176 }, { "time": "12:30", "cars": 133 }, { "time": "12:45", "cars": 148 }, { "time": "13:00", "cars": 162 }, { "time": "13:15", "cars": 154 }, { "time": "13:30", "cars": 155 }, { "time": "13:45", "cars": 182 }, { "time": "14:00", "cars": 205 }, { "time": "14:15", "cars": 174 }, { "time": "14:30", "cars": 135 }, { "time": "14:45", "cars": 193 }, { "time": "15:00", "cars": 199 }, { "time": "15:15", "cars": 198 }, { "time": "15:30", "cars": 224 }, { "time": "15:45", "cars": 190 }, { "time": "16:00", "cars": 261 }, { "time": "16:15", "cars": 240 }, { "time": "16:30", "cars": 226 }, { "time": "16:45", "cars": 211 }, { "time": "17:00", "cars": 254 }, { "time": "17:15", "cars": 232 }, { "time": "17:30", "cars": 205 }, { "time": "17:45", "cars": 214 }]
    },
    {   // Te furra qerimi
        lat: "42.653942",
        lon: "21.167816",
        name: "Udhëkryqi tek Furra Qerimi B",
        group: "Furra Qerimi",
        color: "blue",
        times: [{ "time": "06:00", "cars": 16 }, { "time": "06:15", "cars": 40 }, { "time": "06:30", "cars": 52 }, { "time": "06:45", "cars": 96 }, { "time": "07:00", "cars": 129 }, { "time": "07:15", "cars": 230 }, { "time": "07:30", "cars": 264 }, { "time": "07:45", "cars": 244 }, { "time": "08:00", "cars": 204 }, { "time": "08:15", "cars": 181 }, { "time": "08:30", "cars": 164 }, { "time": "08:45", "cars": 142 }, { "time": "09:00", "cars": 136 }, { "time": "09:15", "cars": 141 }, { "time": "09:30", "cars": 113 }, { "time": "09:45", "cars": 128 }, { "time": "10:00", "cars": 133 }, { "time": "10:15", "cars": 148 }, { "time": "10:30", "cars": 129 }, { "time": "10:45", "cars": 142 }, { "time": "11:00", "cars": 152 }, { "time": "11:15", "cars": 127 }, { "time": "11:30", "cars": 136 }, { "time": "11:45", "cars": 126 }, { "time": "12:00", "cars": 216 }, { "time": "12:15", "cars": 165 }, { "time": "12:30", "cars": 171 }, { "time": "12:45", "cars": 150 }, { "time": "13:00", "cars": 209 }, { "time": "13:15", "cars": 177 }, { "time": "13:30", "cars": 179 }, { "time": "13:45", "cars": 183 }, { "time": "14:00", "cars": 173 }, { "time": "14:15", "cars": 196 }, { "time": "14:30", "cars": 195 }, { "time": "14:45", "cars": 147 }, { "time": "15:00", "cars": 182 }, { "time": "15:15", "cars": 189 }, { "time": "15:30", "cars": 200 }, { "time": "15:45", "cars": 189 }, { "time": "16:00", "cars": 196 }, { "time": "16:15", "cars": 168 }, { "time": "16:30", "cars": 184 }, { "time": "16:45", "cars": 180 }, { "time": "17:00", "cars": 216 }, { "time": "17:15", "cars": 130 }, { "time": "17:30", "cars": 242 }, { "time": "17:45", "cars": 192 }]
    },
    {   // Te furra qerimi
        lat: "42.653902",
        lon: "21.167537",
        name: "Udhëkryqi tek Furra Qerimi C",
        group: "Furra Qerimi",
        color: "yellow",
        times: [{ "time": "06:00", "cars": 8 }, { "time": "06:15", "cars": 10 }, { "time": "06:30", "cars": 26 }, { "time": "06:45", "cars": 51 }, { "time": "07:00", "cars": 75 }, { "time": "07:15", "cars": 102 }, { "time": "07:30", "cars": 110 }, { "time": "07:45", "cars": 139 }, { "time": "08:00", "cars": 116 }, { "time": "08:15", "cars": 159 }, { "time": "08:30", "cars": 143 }, { "time": "08:45", "cars": 143 }, { "time": "09:00", "cars": 161 }, { "time": "09:15", "cars": 135 }, { "time": "09:30", "cars": 136 }, { "time": "09:45", "cars": 152 }, { "time": "10:00", "cars": 133 }, { "time": "10:15", "cars": 141 }, { "time": "10:30", "cars": 131 }, { "time": "10:45", "cars": 120 }, { "time": "11:00", "cars": 132 }, { "time": "11:15", "cars": 166 }, { "time": "11:30", "cars": 123 }, { "time": "11:45", "cars": 111 }, { "time": "12:00", "cars": 163 }, { "time": "12:15", "cars": 154 }, { "time": "12:30", "cars": 129 }, { "time": "12:45", "cars": 159 }, { "time": "13:00", "cars": 123 }, { "time": "13:15", "cars": 123 }, { "time": "13:30", "cars": 147 }, { "time": "13:45", "cars": 138 }, { "time": "14:00", "cars": 123 }, { "time": "14:15", "cars": 156 }, { "time": "14:30", "cars": 131 }, { "time": "14:45", "cars": 158 }, { "time": "15:00", "cars": 146 }, { "time": "15:15", "cars": 139 }, { "time": "15:30", "cars": 135 }, { "time": "15:45", "cars": 150 }, { "time": "16:00", "cars": 181 }, { "time": "16:15", "cars": 169 }, { "time": "16:30", "cars": 170 }, { "time": "16:45", "cars": 187 }, { "time": "17:00", "cars": 180 }, { "time": "17:15", "cars": 169 }, { "time": "17:30", "cars": 148 }, { "time": "17:45", "cars": 160 }]
    },
    {   // Te furra qerimi
        lat: "42.654197",
        lon: "21.167790",
        name: "Udhëkryqi tek Furra Qerimi D",
        group: "Furra Qerimi",
        color: "red",
        times: [{ "time": "06:00", "cars": 0 }, { "time": "06:15", "cars": 0 }, { "time": "06:30", "cars": 6 }, { "time": "06:45", "cars": 2 }, { "time": "07:00", "cars": 3 }, { "time": "07:15", "cars": 7 }, { "time": "07:30", "cars": 3 }, { "time": "07:45", "cars": 5 }, { "time": "08:00", "cars": 15 }, { "time": "08:15", "cars": 5 }, { "time": "08:30", "cars": 7 }, { "time": "08:45", "cars": 10 }, { "time": "09:00", "cars": 6 }, { "time": "09:15", "cars": 6 }, { "time": "09:30", "cars": 11 }, { "time": "09:45", "cars": 6 }, { "time": "10:00", "cars": 7 }, { "time": "10:15", "cars": 5 }, { "time": "10:30", "cars": 11 }, { "time": "10:45", "cars": 4 }, { "time": "11:00", "cars": 3 }, { "time": "11:15", "cars": 6 }, { "time": "11:30", "cars": 10 }, { "time": "11:45", "cars": 9 }, { "time": "12:00", "cars": 8 }, { "time": "12:15", "cars": 8 }, { "time": "12:30", "cars": 12 }, { "time": "12:45", "cars": 9 }, { "time": "13:00", "cars": 11 }, { "time": "13:15", "cars": 9 }, { "time": "13:30", "cars": 7 }, { "time": "13:45", "cars": 12 }, { "time": "14:00", "cars": 16 }, { "time": "14:15", "cars": 7 }, { "time": "14:30", "cars": 10 }, { "time": "14:45", "cars": 13 }, { "time": "15:00", "cars": 8 }, { "time": "15:15", "cars": 7 }, { "time": "15:30", "cars": 9 }, { "time": "15:45", "cars": 7 }, { "time": "16:00", "cars": 10 }, { "time": "16:15", "cars": 11 }, { "time": "16:30", "cars": 12 }, { "time": "16:45", "cars": 9 }, { "time": "17:00", "cars": 8 }, { "time": "17:15", "cars": 10 }, { "time": "17:30", "cars": 8 }, { "time": "17:45", "cars": 6 }]
    },

]

let map;

// A function that takes an array of data and a time value as parameters
function showMap(data, time) {
    // Where you want to render the map.
    var element = document.getElementById("map");

    // Set the element widht and height to fill the screen. - 100px at the top for the title.
    element.style = "height: calc(100vh - 100px); width: calc(100vw - 50px);";

    // Create Leaflet map on map element.
    map = L.map(element);

    // Create a tile layer from OpenStreetMap
    var osmLayer = L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png", {
        attribution: '© <a href="^4^">OpenStreetMap</a> contributors'
    });

    // Add the tile layer to the map
    osmLayer.addTo(map);


    // Add OSM tile layer to the Leaflet map.
    L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png", {
        attribution:
            '© <a href="^9^">OpenStreetMap</a> contributors',
    }).addTo(map);

    // Set map's center to the first location in the data array with zoom 14.
    map.setView([data[0].lat, data[0].lon], 14);

    // Loop through the data array
    for (var i = 0; i < data.length; i++) {
        // Get the current location
        var location = data[i];
        let name = location.name;

        // Create a marker on the map for the current location

        var marker = L.marker([location.lat, location.lon]).addTo(map);

        // Initialize a variable to store the number of cars
        var cars = 0;

        // Loop through the times array of the current location
        for (var j = 0; j < location.times.length; j++) {
            // Get the current time object
            var timeObj = location.times[j];

            // Check if the time value matches the parameter
            if (timeObj.time === time) {
                // Update the number of cars
                cars = timeObj.cars;
                // Break out of the loop
                break;
            }
        }

        // Create a popup with the number of cars as the content
        var popup = L.popup().setContent(name + "<br>" + cars + " cars have passed here from " + time + " until " + addTime(time) + " o'clock. <br> Location: " + location.lat + ", " + location.lon + ".");

        // Bind the popup to the marker
        marker.bindPopup(popup);
    }

    document.getElementById("pre").classList.add("hidden");
}

function addTime(inputTime) {
    // Split the input time into hours and minutes
    const [hours, minutes] = inputTime.split(':').map(Number);

    // Convert the time into minutes
    let totalMinutes = hours * 60 + minutes;

    // Add 15 minutes
    totalMinutes += 15;

    // Convert back to hours and minutes
    const newHours = Math.floor(totalMinutes / 60);
    const newMinutes = totalMinutes % 60;

    // Format the output
    const formattedHours = newHours < 10 ? `0${newHours}` : newHours;
    const formattedMinutes = newMinutes < 10 ? `0${newMinutes}` : newMinutes;

    return `${formattedHours}:${formattedMinutes}`;
}


// Call the showMap function after an option is selected in select element

document.getElementById("time").addEventListener("change", function () {


    // Destory the map if it exists
    if (map) {
        map.remove();
    }


    showMap(data, this.value);
});


// showMap(data, "04:00");